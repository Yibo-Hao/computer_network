<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第一章-计算机网络体系结构 | 计算机网络学习</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/computer_network/assets/css/0.styles.3a98dada.css" as="style"><link rel="preload" href="/computer_network/assets/js/app.09401bdf.js" as="script"><link rel="preload" href="/computer_network/assets/js/2.754cc29b.js" as="script"><link rel="preload" href="/computer_network/assets/js/3.38c3dbfb.js" as="script"><link rel="prefetch" href="/computer_network/assets/js/4.947cc347.js"><link rel="prefetch" href="/computer_network/assets/js/5.bf33329f.js"><link rel="prefetch" href="/computer_network/assets/js/6.42b75b78.js"><link rel="prefetch" href="/computer_network/assets/js/7.12731e91.js">
    <link rel="stylesheet" href="/computer_network/assets/css/0.styles.3a98dada.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-navbar"><!----> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/computer_network/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/computer_network/first/" aria-current="page" class="active sidebar-link">第一章-计算机网络体系结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer_network/first/#三类网络" class="sidebar-link">三类网络</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#互连网和互联网" class="sidebar-link">互连网和互联网</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#计算机网络的概念" class="sidebar-link">计算机网络的概念</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#目前计算机网络的基本特征" class="sidebar-link">目前计算机网络的基本特征</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#因特网概念（internet）" class="sidebar-link">因特网概念（Internet）</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#互连网和因特网" class="sidebar-link">互连网和因特网</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#internet" class="sidebar-link">Internet</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#互联网-因特网-三个阶段" class="sidebar-link">互联网/因特网 三个阶段</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#网络的分类" class="sidebar-link">网络的分类</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#网络的地址概览" class="sidebar-link">网络的地址概览</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#数据包和数据帧" class="sidebar-link">数据包和数据帧</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#输入域名到返回数据" class="sidebar-link">输入域名到返回数据</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#osi参考模型" class="sidebar-link">OSI参考模型</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#mac地址" class="sidebar-link">mac地址</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#因特网的组成" class="sidebar-link">因特网的组成</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#分组交换" class="sidebar-link">分组交换</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#网络协议" class="sidebar-link">网络协议</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#tcp-ip-协议" class="sidebar-link">TCP/IP 协议</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#端的概念" class="sidebar-link">端的概念</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#计算机网络性能" class="sidebar-link">计算机网络性能</a></li><li class="sidebar-sub-header"><a href="/computer_network/first/#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/computer_network/second/" class="sidebar-link">第二章-物理层</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第一章-计算机网络体系结构"><a href="#第一章-计算机网络体系结构" class="header-anchor">#</a> 第一章-计算机网络体系结构</h1> <h2 id="三类网络"><a href="#三类网络" class="header-anchor">#</a> 三类网络</h2> <ul><li>电信网络-电话，传真</li> <li>有线电视网络-电视节目</li> <li>计算机网络-使用计算机传送数据</li> <li>技术的发展，计算机网络可以提供所有功能</li></ul> <h2 id="互连网和互联网"><a href="#互连网和互联网" class="header-anchor">#</a> 互连网和互联网</h2> <ul><li>局部范围内互连起来的计算机网络称为互连网</li> <li>互联网是覆盖全球的，数量极大的各种计算机网络互连起来的。</li></ul> <h2 id="计算机网络的概念"><a href="#计算机网络的概念" class="header-anchor">#</a> 计算机网络的概念</h2> <p>计算机网络（简称网络）是指由分散的，具有独立功能的计算机系统，通过通信设备与线路（等硬件）连接起来，由软件实现资源共享和信息传递的系统。一个网络由两部分组成：结点（node）和链接结点的链路（link），结点可以是计算机、集线器、交换机、路由器。</p> <p>简言之，计算机网络就是一些互联的，自治的计算机系统的集合，即计算机的网络。</p> <ul><li>硬件连接计算机</li> <li>软件资源共享</li></ul> <p>网络可以由路由器互连起来，这样就形成了范围更大的计算机网络，称为互连网（internet）即网络的网络。</p> <p>网络把计算机连起来，而互连网把网络通过路由器连起来。</p> <h2 id="目前计算机网络的基本特征"><a href="#目前计算机网络的基本特征" class="header-anchor">#</a> 目前计算机网络的基本特征</h2> <p>这里的计算机网络是指整体的网络，而不是特指一个网络。</p> <ul><li>目的：资源共享</li> <li>组成单元：不同地理位置的多台自治计算机</li> <li>网络中的计算机必须遵守统一的规则：网络协议</li></ul> <h2 id="因特网概念（internet）"><a href="#因特网概念（internet）" class="header-anchor">#</a> 因特网概念（Internet）</h2> <ul><li>因特网指全球最大最开放由众多网络互连的特点的互连网，适用TCP/IP。</li> <li>计算机网络由因特网和其他网络（军网，政府网络）构成</li> <li>网络:几台计算机通过集线器和交换机连接到一起组建的局域网，距离不会太远</li> <li>互连网（internet）:网络和网络用路由器连起来之间连起来就叫互联网
<img src="/computer_network/assets/img/net.ff157932.png" alt=""></li> <li>上图为互连网的两种画法一种把计算机画进去，另一种把计算机画出来，与网络相连的计算机常称为主机（host）</li> <li>因特网（Internet）:因特网是互联网，特指全球最大的互联网</li> <li>路由谋短，交换求快</li> <li>网络把许多计算机连接在一起，互联网吧网络通过路由器连接起来，与网络相连的计算机称为主机。</li> <li>因特网大致由几个ISP（电信运营商）网络组成，不同的运营商有不同的机房，isp之间的通信有很多种（双线机房/直接通信/机房防止服务器）
<img src="/computer_network/assets/img/isp.7868ce4b.png" alt=""></li></ul> <h2 id="互连网和因特网"><a href="#互连网和因特网" class="header-anchor">#</a> 互连网和因特网</h2> <ul><li>internet 和 Internet</li> <li>互连网不一定使用TCP/IP</li></ul> <h2 id="internet"><a href="#internet" class="header-anchor">#</a> Internet</h2> <ul><li>互联网</li> <li>因特网</li> <li>两个是一个东西，翻译不同。</li></ul> <h2 id="互联网-因特网-三个阶段"><a href="#互联网-因特网-三个阶段" class="header-anchor">#</a> 互联网/因特网 三个阶段</h2> <ul><li>互连网</li> <li>三级结构互联网-主干、地区、校园</li> <li>多层级ISP结构
所谓上网指得就是。通过ISP获取IP地址接入互联网。一般不零售IP地址而是批发给小的ISP。</li></ul> <h2 id="网络的分类"><a href="#网络的分类" class="header-anchor">#</a> 网络的分类</h2> <p>按分布范围分类：广域网（点对点网络），城域网，局域网（广播式网络），个人区域网（无线技术连接）。</p> <p>点对点网络：一根物理线路连接一台计算机，如果两台计算机没有直接连接，那么它们直接都要提供中间结点的接受，转发。</p> <p>广播式网络：所有联网的计算机共享一个信道，一台计算机发送报文，其他计算机都会收听，其他计算机判断是否接受。</p> <p>自己家上网就是属于广域网，网吧属于局域网，不能用距离来判断是否是局域网，如果邻居之间用分别都接入了ISP比如说电信，那么这就是广域网，如果邻居之间直接使用网线或者无线连接就属于局域网。</p> <p>我们平常说的带宽xx兆指我们电脑到运行商的带宽。</p> <h2 id="网络的地址概览"><a href="#网络的地址概览" class="header-anchor">#</a> 网络的地址概览</h2> <p><img src="/computer_network/assets/img/ip.eba41db6.png" alt="">
子网掩码表示ip地址的前几位表示网络地址，mac地址全球唯一出厂时已经设置，ip地址可以改变。</p> <p>网关会默认为网络ip第一位（15.0.0.1）</p> <h2 id="数据包和数据帧"><a href="#数据包和数据帧" class="header-anchor">#</a> 数据包和数据帧</h2> <p>数据+开始ip地址+目的IP地址 === 数据包
数据+开始ip地址+目的IP地址+开始物理地址+网关物理地址 === 数据帧</p> <h2 id="输入域名到返回数据"><a href="#输入域名到返回数据" class="header-anchor">#</a> 输入域名到返回数据</h2> <p>假设我们输入一个域名&quot;www.baidu.com&quot;，传到DNS服务器，返回目标网站的ip地址，之后再请求时就会向该ip地址请求。</p> <div class="language- extra-class"><pre class="language-text"><code>[数据][15.0.0.2][13.0.0.2][m4][m5]--数据帧
</code></pre></div><p>m5为网关mac地址（物理地址），m4为开始mac地址</p> <p>数据到达网关后，路由器会改变物理地址，产生新的数据帧，从而一步一步到达最终IP地址</p> <p>如果使用交换机连接的计算机，只需要mac地址即可直接发送数据。</p> <p>返回数据时由于数据过大，我们通常需要对数据进行切割，每一个数据都包含<code>[15.0.0.2][13.0.0.2][m4][m5]</code></p> <p>我们把要发送的数据放入缓存中，并且不能删除，防止分组在发放的过程中丢失需要我们重新发送，当目的地确认收到后，我们可以删掉第一个缓存，发送第二个。目的地收到所有数据后，放入缓存，之后再从缓存中放到浏览器上。</p> <h2 id="osi参考模型"><a href="#osi参考模型" class="header-anchor">#</a> OSI参考模型</h2> <p>改变某一层并不会影响其他层，我们设计时就要注意不要跨层实现，应用不关心什么网络传过来的数据，网络层也不关心哪个应用来的请求只管发送数据即可</p> <ul><li>应用层：所有能产生网络流量的程序</li> <li>表示层：在传输之前是否进行加密或压缩处理，ASCll码，二进制，出现乱码都是表示层出现了问题</li> <li>会话层：查木马，视频软件看视频需要持续地建立会话这样快进和后退，同一个浏览器打开不同的网页都需要建立会话，否则不同网页内容会乱窜，因为木马需要与外界通信所以可以通过会话层检测</li> <li>传输层：可靠传输 流量控制 不可靠传输，在分组发放过程中在传输层来判断数据包是否到达，分组可能会在网络中丢失、损坏，应用层可能对网络通信有所要求，不允许出现这种差错，必须保证接收方的应用收到了完整且正确的数据，这种服务就是可靠数据传输服务。</li> <li>网络层：负责选择最佳路径，规划ip地址</li> <li>数据链路层：帧的开始和结束,实现透明传输，差错校验。链路层对每一个数据包遇到它的开始就接受数据，遇到它的结束码就停止接受，如果数据中的数据码碰巧和结束码一致，那么会在这个数据码处加入特殊位，这就是透明传输。差错校验：检测出错误的数据帧扔掉。</li> <li>物理层：接口标准，电器标准，如何在物理链路是传输更快的速度</li></ul> <p>网线通常有4根线，2根发2根收</p> <h2 id="mac地址"><a href="#mac地址" class="header-anchor">#</a> mac地址</h2> <p>我们可以人为地修改mac地址，但是如果一个局域网有两个相同的mac地址将会导致一个不能上网</p> <h2 id="因特网的组成"><a href="#因特网的组成" class="header-anchor">#</a> 因特网的组成</h2> <ul><li><p>其工作方式上看,可以划分为以下两大块:</p></li> <li><p>边缘部分由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信(传送数据、音频或视频)和资源共享。</p></li> <li><p>核心部分由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的(提供连通性和交换)。核心起特殊作用的是路由器，它是专门的计算机，目的是实现分组交换，转发收到的分组</p></li> <li><p>在网络边缘的端系统之间的通信方式通常可划分为两大类:客户-服务器方式(C/S）和对等方式(P2P)</p></li> <li><p>客户-服务器方式(C/S):客户是服务请求方，服务器是服务提供方。客户和服务器都是指通信中所涉及的两个<strong>应用进程（软件）</strong>。服务器程序启动后即自动调用并一直不断地运行着，被动地接受请求。一台主机的多个进程可以各自和不同主机的多个进程通信。</p></li> <li><p>对等方式（p2p）:是指两台主机在通信时并不区分哪一个是服务请求方哪一个是服务提供方。只要两台主机都运行了P2P软件，它们就可以进行平等的、对等连接通信。这时，双方都可以下载对方已经存储在硬盘中的共享文档。因此这种工作方式也称为P2P方式。</p></li> <li><p>一万个人从一个地方下载这就是c/s，一个下载可以有很多源这就是P2P方式</p></li> <li><p>核心部分:电路交换，分组交换，报文交换</p></li> <li><p>电路交换，经过建立连接(占用通信资源)→通话(一直占用通信资源)→释放连接(归还通信资源)三个步骤的交换方式，重要特点就是在通话的全部时间内，通话的两个用户始终占用端到端的通信资源。</p></li> <li><p>分组交换，分组交换则采用存储转发技术。把一个报文划分为几个分组后再进行传送。通常我们把要发送的整块数据称为一个报文.在发送报文之前，先把较长的报文划分成为一个个更小的等长数据段，例如，每个数据段为1024 bit&quot;。 在每个数据段前面，加上些由必要的控制信息组成的首部(header)后，就构成了-个分组(packet)。分组又称为“包”，而分组的首部也可称为“包头”。分组是在互联网中传送的数据单元。分组中的“首部”是非常重要的，正是由于分组的首部包含了诸如目的地址和源地址等重要控制信息，每一个分组才能在互联网中独立地选择传输路径，并被正确地交付到分组传输的终点。每个分组可能路径不一样</p></li> <li><p>报文交换，整个报文先传送到相邻结点，全部存储下来后查找转发表，转发到一 个结点。</p></li> <li><p>边缘网络的通信是要经过核心网络的通信的。一次成功的通信需要两个网络的结合。</p></li></ul> <h2 id="分组交换"><a href="#分组交换" class="header-anchor">#</a> 分组交换</h2> <ul><li>通常我们把要发送的整块数据成为一个报文（message）。</li> <li>把报文分成一个个等长的数据段，每个数据段加上一些必要的控制信息组成的首部（header）就是一个分组（packet）。</li> <li>分组由称包，首部又称包头</li> <li>包头含有目标地址和原地址，所以包会在互联网中独立地选择路径。</li></ul> <p>路由器收到分组暂时存储，检查首部，按照首部的目标地址查找路由表，找到合适接口发送出去，各路由器之间必须经常交换彼此掌握的路由信息，以便创建和动态维护路由器中的转发表</p> <h2 id="网络协议"><a href="#网络协议" class="header-anchor">#</a> 网络协议</h2> <p>网络协议由三个要素组成</p> <ul><li>语法：数据和控制信息的结构或格式</li> <li>语义：发出何种控制信息，完成何种动作以及做出何种响应</li> <li>同步：即事件实现顺序</li></ul> <h2 id="tcp-ip-协议"><a href="#tcp-ip-协议" class="header-anchor">#</a> TCP/IP 协议</h2> <p>通常我们说 TCP/IP 协议指的是协议栈，一堆协议，但是主要的是TCP和IP协议。TCP实际上有四层协议，OSI有七层协议，但是为了我们理解网络协议我们将融合两种协议采用五层协议。应用层把表示层和会话层融为一体。
<img src="/computer_network/assets/img/book.cd673ba2.jpg" alt=""> <img src="/computer_network/assets/img/tcp.7ad17450.png" alt=""></p> <ul><li>应用层交互的数据单元是报文（message），应用层协议是应用进程间通信和交互的规则。这里的进程就是正在运行的程序，对于不同的网络应用有不同的协议，DNS，HTTP，电子邮件SMTP。</li> <li>运输层的任务是传送应用层的报文。TCP和UDP。分成数据段决定传输方式。</li> <li>网络层把运输层产生的报文段封装成包。使用IP协议，所以包也叫做IP数据报。并选择合适的路由，在网络中的路由器找到目标主机。</li> <li>数据链路层将IP数据报包装成帧加上mac地址。</li> <li>物理层规定网线等等。</li></ul> <h2 id="端的概念"><a href="#端的概念" class="header-anchor">#</a> 端的概念</h2> <ul><li>互联网边缘的主机称为端系统，end system。</li> <li>客户和服务器指的是软件进程</li> <li>客户端和服务器端指的是运行客户和服务器程序的机器。</li></ul> <h2 id="计算机网络性能"><a href="#计算机网络性能" class="header-anchor">#</a> 计算机网络性能</h2> <ul><li>比特也是信息论中使用的信息量的单位（二进制一位叫做一比特）。网络技术中的速率指的是数据的传送速率，它也称为数据率或比特率。速率是计算机网络中最重要的一个性能指标。速率的单位是bit/s  当数据率较高时，就常常在bit/s的前面加上一个字母（K,M,G）。</li> <li>现在人们在谈到网络速率时,常省略了速率单位中应有的bit/s，而使用不太正确的说法。例如下载10m/s实际上指的是字节而不是比特因此乘以8才是速率，另外要注意的是，当提到网络的速率时，往往指的是额定速率或标称速率，而并非网络实际上运行的速率。我们直接在计算机查看时一般是字节/s。</li> <li>&quot;我们寝室办了一个100兆网&quot;实际上指的是比特，实际网速要除以8。</li> <li>速率指的是一个发送端一个接受端的速率。</li> <li>带宽，最高数据率--&quot;我们寝室办了一个100兆网&quot;-指某信道</li> <li>吞吐量表示在单位时间内通过某个网络的实际的数据量。多个信道加起来，速率是一个信道。单位b/s，M/s。</li> <li>时延:发送时延，传播时延，处理时延（路由器处理分组并发送的时间），排队时延（在路由器排队），四个加起来就是时延，发送时延=数据大小（bit）/一个信道带宽（bit/s）</li> <li>时延带宽积:带宽*传播时延，代表计算机通信时有多少数据在线路上</li> <li>往返时间RTT</li> <li>信道利用率:有数据通过时间/有数据无数据利用的时间（没必要太高会堵住）</li> <li>网络利用率:信道利用率加权平均（一个接收端不止一个信道）,时延和网络利用率成正比，如果100兆网络利用率为1，网络真的堆积了100兆数据，那么时延就会很大。</li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>用TCP/IP协议来回忆刚刚网页的例子。
<img src="/computer_network/assets/img/ex.207d0473.png" alt="">
这是封装的过程，到达目的地之后还要去掉这些信息
<img src="/computer_network/assets/img/data.321dfbbf.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/computer_network/" class="prev router-link-active">
        Home
      </a></span> <span class="next"><a href="/computer_network/second/">
        第二章-物理层
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/computer_network/assets/js/app.09401bdf.js" defer></script><script src="/computer_network/assets/js/2.754cc29b.js" defer></script><script src="/computer_network/assets/js/3.38c3dbfb.js" defer></script>
  </body>
</html>
